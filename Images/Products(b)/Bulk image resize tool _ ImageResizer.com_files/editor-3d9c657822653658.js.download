(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8830,3541],{22796:function(e,t,r){"use strict";r.d(t,{s:function(){return n}});var i=r(85893),n=function(e){var t=e.fill,r=void 0===t?"white":t;return(0,i.jsxs)("svg",{width:"6",height:"15",viewBox:"0 0 6 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M2.99968 2.29037C3.63214 2.29037 4.14486 1.77765 4.14486 1.14519C4.14486 0.512717 3.63214 0 2.99968 0C2.36721 0 1.85449 0.512717 1.85449 1.14519C1.85449 1.77765 2.36721 2.29037 2.99968 2.29037Z",fill:r}),(0,i.jsx)("path",{d:"M0.512118 5.75489C1.25102 5.42312 1.8547 5.549 1.8547 6.48876V12.7657C1.8547 14.0195 3.29017 14.3283 4.3835 13.6521C4.95187 13.2847 5.45252 12.8219 5.86336 12.2841C5.90415 12.2294 5.92551 12.1626 5.92406 12.0944C5.92261 12.0262 5.89843 11.9604 5.85536 11.9074C5.81229 11.8545 5.75279 11.8174 5.68628 11.8021C5.61977 11.7868 5.55005 11.7942 5.48818 11.823C4.74928 12.1547 4.1456 12.0288 4.1456 11.0891V4.81211C4.1456 3.5583 2.71013 3.24953 1.6168 3.92573C1.04843 4.29313 0.547784 4.75594 0.136934 5.29374C0.0961504 5.34846 0.0747915 5.41523 0.0762411 5.48346C0.0776906 5.55169 0.101866 5.61749 0.144937 5.67043C0.188007 5.72336 0.247511 5.76042 0.314021 5.77572C0.380532 5.79102 0.450245 5.78369 0.512118 5.75489Z",fill:r})]})}},46045:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});var i=r(85893),n=function(e){var t=e.className;return(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,i.jsx)("path",{d:"M8.325 2.317C8.751 0.561 11.249 0.561 11.675 2.317C11.7389 2.5808 11.8642 2.82578 12.0407 3.032C12.2172 3.23822 12.4399 3.39985 12.6907 3.50375C12.9414 3.60764 13.2132 3.65085 13.4838 3.62987C13.7544 3.60889 14.0162 3.5243 14.248 3.383C15.791 2.443 17.558 4.209 16.618 5.753C16.4769 5.98466 16.3924 6.24634 16.3715 6.51677C16.3506 6.78721 16.3938 7.05877 16.4975 7.30938C16.6013 7.55999 16.7627 7.78258 16.9687 7.95905C17.1747 8.13553 17.4194 8.26091 17.683 8.325C19.439 8.751 19.439 11.249 17.683 11.675C17.4192 11.7389 17.1742 11.8642 16.968 12.0407C16.7618 12.2172 16.6001 12.4399 16.4963 12.6907C16.3924 12.9414 16.3491 13.2132 16.3701 13.4838C16.3911 13.7544 16.4757 14.0162 16.617 14.248C17.557 15.791 15.791 17.558 14.247 16.618C14.0153 16.4769 13.7537 16.3924 13.4832 16.3715C13.2128 16.3506 12.9412 16.3938 12.6906 16.4975C12.44 16.6013 12.2174 16.7627 12.0409 16.9687C11.8645 17.1747 11.7391 17.4194 11.675 17.683C11.249 19.439 8.751 19.439 8.325 17.683C8.26108 17.4192 8.13578 17.1742 7.95929 16.968C7.7828 16.7618 7.56011 16.6001 7.30935 16.4963C7.05859 16.3924 6.78683 16.3491 6.51621 16.3701C6.24559 16.3911 5.98375 16.4757 5.752 16.617C4.209 17.557 2.442 15.791 3.382 14.247C3.5231 14.0153 3.60755 13.7537 3.62848 13.4832C3.64942 13.2128 3.60624 12.9412 3.50247 12.6906C3.3987 12.44 3.23726 12.2174 3.03127 12.0409C2.82529 11.8645 2.58056 11.7391 2.317 11.675C0.561 11.249 0.561 8.751 2.317 8.325C2.5808 8.26108 2.82578 8.13578 3.032 7.95929C3.23822 7.7828 3.39985 7.56011 3.50375 7.30935C3.60764 7.05859 3.65085 6.78683 3.62987 6.51621C3.60889 6.24559 3.5243 5.98375 3.383 5.752C2.443 4.209 4.209 2.442 5.753 3.382C6.749 3.99 8.049 3.452 8.325 2.317Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M13 10C13 10.7956 12.6839 11.5587 12.1213 12.1213C11.5587 12.6839 10.7956 13 10 13C9.20435 13 8.44129 12.6839 7.87868 12.1213C7.31607 11.5587 7 10.7956 7 10C7 9.20435 7.31607 8.44129 7.87868 7.87868C8.44129 7.31607 9.20435 7 10 7C10.7956 7 11.5587 7.31607 12.1213 7.87868C12.6839 8.44129 13 9.20435 13 10V10Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}},93170:function(e,t,r){"use strict";r.d(t,{P:function(){return d}});var i=r(50029),n=r(87794),s=r.n(n),a=r(9669),l=r.n(a),o=r(44221),c=r(41807),d=function(){var e=(0,i.Z)(s().mark((function e(t,r,n,a,l,d){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,i.Z)(s().mark((function e(i,p){var h,x;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("device"===t.type&&"heic"!==d&&"heif"!==d&&i({src:r}),h=null!==l&&void 0!==l?l:{},"googleDrive"===t.type&&(h.Authorization="Bearer ".concat(t.settings.access_token)),"googleDrive"!==t.type){e.next=7;break}e.t0=t.settings.fetch_url,e.next=20;break;case 7:if("url"!==t.type){e.next=18;break}return e.next=10,u(r);case 10:if(!e.sent){e.next=14;break}e.t2=(0,c.J)(r),e.next=15;break;case 14:e.t2=r;case 15:e.t1=e.t2,e.next=19;break;case 18:e.t1=r;case 19:e.t0=e.t1;case 20:x=e.t0,(0,o.G)(x,n,a,h,d).then((function(e){i(e)})).catch((function(e){i({src:"",error:!0})}));case 22:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,r,i,n,s,a){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l().head(t);case 3:return e.abrupt("return",!1);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},41807:function(e,t,r){"use strict";r.d(t,{J:function(){return i}});var i=function(e){return n(e)||e.startsWith("/api")?e:"/api/image-proxy?imageUrl=".concat(e)},n=function(e){return e.startsWith("/")||e.startsWith("blob:")||e.startsWith("data:")}},86960:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return Rt},default:function(){return qt}});var i=r(27812),n=r(52823),s=r(60525),a=r(19379),l=r(45056),o=r(74186),c=r(7706),d=r(45451),u=r(53882),p=r(11679),h=r(77435),x=r(56067),g=r(11899),f=r(50029),m=r(87794),v=r.n(m),b=r(24713),k=r(67992),j=r(4713),w=r(26758),y=r(56726),C=r(27840),N=r(62926),S=r(31400),z=r(23559),O=r(12613),V=r(68245),F=r(11938),P=r(90177),T=r(93127),L=r(82566),E=r(72125),G=null,_=[],I=[],D=function(e){var t=(0,P.TL)(),r=(0,z.p)(),i=r.toast,n=r.removeBatch,s=(0,P.CG)((function(e){return e.bulkResize.images}));_=s;var a=function(){var t=(0,f.Z)(v().mark((function t(r,n,s){var a;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G){t.next=4;break}return t.next=3,(0,w.h)();case 3:G=t.sent;case 4:if(!(r.length>O.El-_.length)){t.next=7;break}return i({closeable:!0,position:"top-right",status:"error",batch:"max-upload-limit",text:"Max Upload Limit is ".concat(O.El," images at a time."),time:S.w}),t.abrupt("return");case 7:if(r[0]){t.next=9;break}return t.abrupt("return");case 9:e&&e(),a=P.h.getState().bulkResize.images.filter((function(e){return"importing"===e.state})),r.forEach((function(e,t){var r=o(e,n,s);E.h>a.length+t?d(r,e,n,s):I.push({image:r,fileData:e,settings:s,uploadType:n})}));case 12:case"end":return t.stop()}}),t)})));return function(e,r,i){return t.apply(this,arguments)}}(),l=function(){var e=P.h.getState().bulkResize.images.filter((function(e){return"importing"===e.state}));0===I.length||E.h<=e.length||I.splice(0,E.h-e.length).forEach((function(e){var t=e.image,r=e.fileData,i=e.uploadType,n=e.settings;d(t,r,i,n)}))},o=function(e,r,i){var n=e.file,s=e.src,a=e.size,l={id:(0,C.w)(),src:(0,T.Z)(s),original:{width:0,height:0,size:null!==a&&void 0!==a?a:(0,y.t)(null===n||void 0===n?void 0:n.size)},preview:{width:0,height:0,size:null!==a&&void 0!==a?a:(0,y.t)(null===n||void 0===n?void 0:n.size)},title:n.name,format:n.name.split(".")[n.name.split(".").length-1],createdAt:new Date,state:"added"};return t((0,V.mN)(l)),l},c=(0,N.x)().handleCreateImportTask,d=function(){var e=(0,f.Z)(v().mark((function e(t,r,i,n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t,r,i,n,F.A,A);case 1:case"end":return e.stop()}}),e)})));return function(t,r,i,n){return e.apply(this,arguments)}}(),u=function(e,r,i){t((0,V.SM)({imageId:r.image.id,importing:{progress:null!==i&&void 0!==i?i:0},importTask:e}))},p=function(e,r){t((0,V.SM)({imageId:r.image.id,importing:{progress:100},importTask:e})),t((0,V.L0)({imageId:r.image.id,imageState:"imported"})),l()},h=(0,j.k)((0,L.V)("upload-failed")),x=function(e,r){t((0,V.ao)(r.image.id)),i({closeable:!0,position:"top-right",status:"error",text:h,time:S.w}),l()},g="".concat((0,L.V)("you-are-offline")," ").concat((0,L.V)("trying-to-reconnect")),m=function(){i({closeable:!0,position:"top-right",status:"error",batch:"disconnect",text:g})},D=(0,L.V)("online-again-toast"),M=function(){i({closeable:!0,position:"top-right",status:"success",batch:"reconnect",text:D,time:S.w}),n("disconnect")},B=(0,b.U)({onStart:u,onProgress:function(e,r,i,n){t((0,V.SM)({imageId:n.image.id,importing:{progress:r},importTask:e}))},onComplete:p,onFailure:x,onDisconnect:m,onReconnect:M}).handleDeviceImport,Z=(0,k.g)({onStart:u,onComplete:p,onFailure:x,onDisconnect:m,onReconnect:M}).handleExternalImport,A=function(){var e=(0,f.Z)(v().mark((function e(r,i,n,s){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"device"===s?B(n,i,{image:r}):Z(i,{image:r}),t((0,V.L0)({imageId:r.id,imageState:"importing"})),t((0,V.SM)({imageId:r.id,importing:{progress:"continuous"},importTask:i}));case 3:case"end":return e.stop()}}),e)})));return function(t,r,i,n){return e.apply(this,arguments)}}();return{handleFile:a}},M=r(85893),B=o.p["bulk-resize"],Z=function(e){var t=e.isOpen,r=e.handleClose,i=D(r).handleFile,n=(0,c.e)(i,{allowMultiple:!0,supportedExtensions:B},t),s=n.handleClick,a=n.accessError,l=n.setAccessError,o=n.isLoading;return(0,M.jsxs)("div",{className:"flex flex-col gap-3 py-2 font-xl dark:bg-darkSurface-200 dark:border dark:border-darkSurface-400 text-black dark:text-white rounded-lg",children:[(0,M.jsx)(d.a,{items:{from_device:(0,M.jsx)(u.X,{handleFile:i,options:{allowMultiple:!0,supportedExtensions:B},htmlFileInputId:"file_upload"}),dropbox:(0,M.jsx)(p.M,{handleFile:i,options:{allowMultiple:!0,supportedExtensions:B},isOpen:t}),google_drive:(0,M.jsx)(x.o,{options:{allowMultiple:!0,onClick:s,supportedExtensions:B},isLoading:o}),url_upload:(0,M.jsx)(g.n,{handleFile:i,options:{supportedExtensions:B}})}}),(0,M.jsx)(h.z,{isOpen:a,close:function(){return l(!1)},handleRetry:s})]})},A=r(25617),U=r(36154),R=function(e){var t=e.handleClose,r=function(){var e=(0,A.I0)();return{handleDelete:function(){return e((0,V.zC)())}}}().handleDelete;return(0,M.jsxs)("div",{className:"flex flex-col items-center py-4",onClick:(0,U.U)(),children:[(0,M.jsxs)("div",{className:"text-center capitalize text-2xl mb-8",children:[(0,L.V)("common:delete-all-images"),"?"]}),(0,M.jsx)("div",{className:"w-full text-xl bg-irRed-400 text-white py-2 text-center capitalize rounded-xl mb-4",onClick:function(){r(),t()},children:(0,L.V)("common:yes")}),(0,M.jsx)("div",{className:"w-full text-xl bg-irGray-200 dark:bg-darkSurface-300 py-2 text-center capitalize rounded-xl mb-4",onClick:t,children:(0,L.V)("common:no")})]})},q=r(21780),X=function(e){var t=e.activeType,r=e.closePopup;return(0,M.jsxs)("div",{className:"absolute left-0 right-0 flex flex-col gap-2 mb-2 overflow-hidden bg-white border shadow-2xl bottom-full rounded-xl border-irGray-400 dark:border-darkSurface-600",onClick:r,style:{boxShadow:l.v},children:["add"===t&&(0,M.jsx)(Z,{handleClose:r,isOpen:"add"===t}),"delete"===t&&(0,M.jsx)("div",{className:"px-4 py-2 text-black border rounded-lg dark:bg-darkSurface-200 dark:text-white border-irGray-400 dark:border-darkSurface-400",children:(0,M.jsx)(R,{handleClose:r})}),"sort"===t&&(0,M.jsx)(q.P,{})]})},W=r(95688),H=r(94321),J=r(22530),K=r(9249),$=r(96254),Y=r(51556),Q=r(46045),ee=r(10131),te=r(33284),re=r(52746),ie=r(10343),ne=r(38813),se=r(26450),ae=r(60446),le=r(14124),oe=r(98058),ce=r(44949),de=r(59499),ue=r(11163),pe=r(56655),he=function(e){return e.filter((function(e){return"imported"===e.state&&!e.isCorrupted}))},xe=r(9495),ge=r(67294),fe=r(34796),me=r(96517),ve=r(73085),be=r(75418),ke=r(85456),je=r(32892),we=r(16541),ye=r(85518);function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){(0,de.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se=function(e){var t=(0,P.CG)(pe.q),r=(0,P.TL)(),n=he(t.images),s=t.images.filter((function(e){return"imported"!==e.state})),a=(0,ue.useRouter)(),l=(0,ge.useState)(!1),o=l[0],c=l[1],d=(0,z.p)().toast,u=(0,xe.G)(n,t.resizeSettings.dimensionType,t.resizeSettings.unit,t.resizeSettings.byPercentage.percentage,"percentage"===t.resizeSettings.dimensionType||"pixels"===t.resizeSettings.unit?void 0:+t.resizeSettings.dpi),p=0===s.length&&n.length>0&&u&&!o,h=function(e){r((0,V.U2)(e))},x=function(){var e=(0,f.Z)(v().mark((function e(){var r,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return c(!0),(0,fe.ga)("send",{hitType:"pageview",page:"/vp/bulk_resizer/export_started/",title:"Bulk Resizer Export Started"}),(0,me.S)("event","Export Started",{event_category:"Bulk Resizer",event_label:"Editor Page"}),(0,me.S)("event","Optimization Level ".concat("custom"!==t.exportSettings.optimizationLevel?t.exportSettings.optimizationLevel:0===t.exportSettings.maxFileSize?"empty":"custom"),{event_category:"Bulk Resizer",event_label:"Editor Page"}),c(!0),e.next=7,b();case 7:if(r=e.sent){e.next=11;break}return c(!1),e.abrupt("return");case 11:"en"!==(i=a.locale)&&i?i&&a.push("/".concat(i,"/").concat(je.Z["/bulk-resize/download/:taskId"][i||"en"]).replace(":taskId",r.id)):a.push("/bulk-resize/download/".concat(r.id));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=(0,L.V)("conversion-failed-toast-message"),m=(0,L.V)("export-failed-toast-message"),b=function(){var e=(0,f.Z)(v().mark((function e(){var n,s,a,l,o,u,p,h,x,f;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=he(t.images),e.next=4,Promise.allSettled(n.map((function(e){if(e.importTask)return r((0,ve.N)(ze(e,e.importTask,t)))})));case 4:return s=e.sent,a=[],s.forEach((function(e,t){if("rejected"===e.status&&d({position:"top-right",status:"error",text:"".concat((0,we.u)(n[t].title,10)," ").concat(g,"."),time:7e3}),e&&"fulfilled"===e.status&&e.value){var r=e.value.payload,i=e.value.payload;r.result&&a.push(Ne(Ne({},r.result),{},{payload:i}))}})),l=new Set,a.flatMap((function(e){return e.tasks||[]})).forEach((function(e){"exportTask"===e.name&&l.add(e.id)})),e.next=11,k((0,i.Z)(l));case 11:if(o=e.sent,u=o.error,p=o.result,!u&&p){e.next=25;break}return e.next=17,k((0,i.Z)(l));case 17:if(h=e.sent,x=h.error,f=h.result,!x&&f){e.next=24;break}return c(!1),d({position:"top-right",status:"error",text:m,time:7e3}),e.abrupt("return");case 24:return e.abrupt("return",f);case 25:return e.abrupt("return",p);case 28:e.prev=28,e.t0=e.catch(0);case 30:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}}();function k(e){return j.apply(this,arguments)}function j(){return(j=(0,f.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ke.v)("/api/tasks/export",{input:(0,i.Z)(t),archive_multiple_files:!0,filename:"resized-images.zip"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{fileUnit:t.exportSettings.fileUnit,maxFileSize:t.exportSettings.maxFileSize,optimizationLevel:t.exportSettings.optimizationLevel,saveAs:t.exportSettings.saveAs,handleOptimizationLevelChange:h,handleMaxFileSizeChange:function(e){r((0,V.bL)(e))},handleFileUnitChange:function(e){return r((0,V.nl)(e))},handleSaveAsChange:function(e){".png"===e&&"custom"===t.exportSettings.optimizationLevel&&h("best"),r((0,V.jz)(e))},handleProceed:x,unImportedImages:s,validDimensions:u,unit:t.resizeSettings.unit,isProceedButtonActive:p,isProcessing:o,importedImages:n}},ze=function(e,t,r){var i="custom"!==r.exportSettings.optimizationLevel?r.exportSettings.optimizationLevel:0===r.exportSettings.maxFileSize?"best":void 0,n=Math.round((0,be.m)(e.preview.width>0?e.preview.width:e.original.width,r.resizeSettings.unit,"percentage"===r.resizeSettings.dimensionType||"pixels"===r.resizeSettings.unit?void 0:+r.resizeSettings.dpi)),s=Math.round((0,be.m)(e.preview.height>0?e.preview.height:e.original.height,r.resizeSettings.unit,"percentage"===r.resizeSettings.dimensionType||"pixels"===r.resizeSettings.unit?void 0:+r.resizeSettings.dpi));return{crop:null,importTask:t,resize:{dimensions:{width:n,height:s},inputFormat:(0,ye.w)(t),outputFormat:"original"===r.exportSettings.saveAs?e.format.replace(".",""):r.exportSettings.saveAs.replace(".",""),options:{dpi:"pixels"===r.resizeSettings.dimensionType&&"pixels"!==r.resizeSettings.unit?+r.resizeSettings.dpi:void 0,horizontalFlip:!1,verticalFlip:!1,rotation:0,background:"percentage"===r.resizeSettings.dimensionType||r.resizeSettings.isLocked?void 0:r.resizeSettings.fillColor.shouldFillColor?"color"===r.resizeSettings.fillColor.type?r.resizeSettings.fillColor.color:"none":void 0,fillBackground:"percentage"!==r.resizeSettings.dimensionType&&(!r.resizeSettings.isLocked&&r.resizeSettings.fillColor.shouldFillColor),maxFileSize:"custom"===r.exportSettings.optimizationLevel&&r.exportSettings.maxFileSize>0?"KB"===r.exportSettings.fileUnit?+r.exportSettings.maxFileSize:1e3*+r.exportSettings.maxFileSize:void 0},percentage:null,resize_as:"dimensions",optimization_level:i},tag:"bulk-resize-editor-conversion",extra:{original_width:e.original.width,original_height:e.original.height,file_name:e.title,new_width:n,new_height:s}}},Oe=function(e){e.isOpen;var t=Se(),r=t.fileUnit,n=t.maxFileSize,s=t.optimizationLevel,a=t.saveAs,l=t.handleMaxFileSizeChange,o=t.handleFileUnitChange,c=t.handleSaveAsChange,d=t.validDimensions,u=t.unImportedImages,p=t.isProceedButtonActive,h=t.handleProceed,x=t.isProcessing;return(0,M.jsx)("div",{children:(0,M.jsxs)("div",{className:"px-4 text-black dark:text-white",children:["custom"===s&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"mt-4","data-testid":"max-file-size-label",children:[(0,M.jsx)("span",{className:"font-semibold capitalize",children:(0,M.jsx)(ee.vN,{keyName:"target-file-size-label"})})," ",(0,M.jsxs)("span",{className:"text-irGray-600",children:["(",(0,L.V)("optional"),")"]})]}),(0,M.jsxs)("div",{className:"flex items-center pt-2 pb-2",children:[(0,M.jsx)(se.I,{className:"flex-grow py-6 border-r-0 rounded-r-none",type:"number",value:n>0?n:"",onChange:function(e){return l(+e.target.value)},"data-testid":"max-file-size-input"}),(0,M.jsx)(ae.P,{options:oe.k.map((function(e){return e})),value:r,getOptionValue:function(e){return e},getOptionLabel:function(e){return e},handleClick:o,testKey:"max-file-size-unit"})]}),(0,M.jsx)("div",{className:"text-sm text-irGray-600",children:(0,L.V)("target-file-size-desc")})]}),(0,M.jsx)("div",{className:"py-2 mt-4",children:(0,M.jsx)(ae.P,{options:(0,i.Z)(ce.N),value:a,label:(0,j.k)((0,L.V)("extension-label")),getOptionLabel:function(e){return"original"===e?(0,L.V)("original"):(0,j.k)((0,L.V)(e.replace(".",""))).toUpperCase()},getOptionValue:function(e){return e},handleClick:c,labelClassNames:"font-semibold lg:font-normal",testKey:"extension"})}),(0,M.jsx)(le.e,{text:d?u.length>0?(0,L.V)("uploading-wait-label"):(0,L.V)("proceed-to-download-page"):(0,L.V)("dimensions-error"),containerClassNames:"lg:hidden block w-full",children:(0,M.jsxs)("div",{className:"cursor-pointer flex lg:hidden items-center px-8 py-4 ".concat(p?"bg-irBlue-200 hover:bg-irBlue-400":"bg-irGray-400 dark:bg-darkSurface-600"," gap-4 rounded-lg justify-center my-4"),onClick:h,"data-testid":"export-".concat(p?"active":"inactive","-button"),children:[(0,M.jsx)("div",{className:"font-semibold text-white capitalize select-none lg:font-normal",children:(0,j.k)((0,L.V)("resize-images"))}),x?(0,M.jsx)(ne.a,{className:"stroke-white",width:18,height:18}):(0,M.jsx)(ie.m,{className:"fill-white"})]})})]})})},Ve=function(e){var t=e.handleClose;return(0,M.jsxs)("div",{className:"w-full flex items-center justify-between px-4 py-4 border-b border-b-irGray-400 text-black dark:text-white",children:[(0,M.jsx)("div",{className:"capitalize text-xl whitespace-nowrap font-semibold",children:(0,M.jsx)(ee.vN,{keyName:"export-settings"})}),(0,M.jsx)("div",{className:"cursor-pointer rounded-full bg-darkSurface-300 w-6 h-6 grid place-items-center",onClick:t,id:$.T,children:(0,M.jsx)(Y.T,{width:14,height:14})})]})},Fe=function(e,t){return JSON.stringify(e.images)===JSON.stringify(t.images)},Pe=function(){var e=(0,te.O)(),t=e.isOpen,r=e.open,i=e.onClose,n=function(){var e=(0,P.CG)(pe.q,Fe).images,t=he(e),r=(0,ge.useState)(!1);return{importedImages:t,isProcessing:r[0],setIsProcessing:r[1]}}();return 0===n.importedImages.length?null:(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(re.N,{active:!0,onClick:(0,U.U)(r),children:[(0,M.jsx)("div",{children:(0,M.jsx)(ee.vN,{keyName:"export"})}),(0,M.jsx)(ie.m,{className:"fill-white"})]}),(0,M.jsx)(l.k,{isOpen:t,onClose:i,titleBar:(0,M.jsx)(Ve,{handleClose:i}),initialHeight:"100vh",children:(0,M.jsx)(Oe,{isOpen:t})})]})},Te=function(e,t){return e.resizeSettings.dimensionType===t.resizeSettings.dimensionType},Le=function(){var e=function(){var e=(0,P.CG)(pe.q,Te).resizeSettings.dimensionType,t=(0,P.TL)();return{handleClick:function(e){t((0,V.Xc)(e))},dimensionType:e}}(),t=e.handleClick,r=e.dimensionType;return(0,M.jsxs)("div",{className:"cursor-pointer flex items-center gap-4 py-1 justify-between rounded-lg bg-irGray-200 dark:bg-darkSurface-300 text-slate-600 dark:text-white font-semibold capitalize my-8 whitespace-nowrap px-1",children:[(0,M.jsx)("div",{"data-testid":"bulk-resize-by-dimensions-selector",className:"py-2 flex-grow text-center ".concat("pixels"===r?"bg-white dark:bg-darkSurface-200 text-black rounded-lg":"text-irGray-600"," dark:text-white"),onClick:function(){return t("pixels")},children:(0,M.jsx)(ee.vN,{keyName:"by-dimensions"})}),(0,M.jsx)("div",{"data-testid":"bulk-resize-as-percentage-selector",className:"py-2 flex-grow text-center ".concat("percentage"===r?"bg-white dark:bg-darkSurface-200 text-black rounded-lg":"text-irGray-600"," dark:text-white"),onClick:function(){return t("percentage")},children:(0,M.jsx)(ee.vN,{keyName:"as-percentage"})})]})},Ee=function(e,t){return e.resizeSettings.byDimension.width===t.resizeSettings.byDimension.width&&e.resizeSettings.byDimension.height===t.resizeSettings.byDimension.height&&e.resizeSettings.isLocked===t.resizeSettings.isLocked&&e.resizeSettings.unit===t.resizeSettings.unit},Ge=r(30111),_e=function(e,t){return e.resizeSettings.unit===t.resizeSettings.unit},Ie=r(58777),De=function(){var e=function(){var e=(0,P.CG)(pe.q,Ee).resizeSettings,t=e.byDimension,r=t.height,i=t.width,n=e.isLocked,s=e.unit,a=(0,P.TL)();return{height:r,width:i,handleHeightChange:function(e){return a((0,V.QQ)(Number(e.target.value)))},handleWidthChange:function(e){return a((0,V.cl)(Number(e.target.value)))},isLocked:n,toggleLock:function(){return a((0,V.Zf)(!n))},unit:s}}(),t=e.height,r=e.width,i=e.handleHeightChange,n=e.handleWidthChange,s=e.isLocked,a=e.toggleLock,l=e.unit,o=function(){var e=(0,P.CG)(pe.q,_e).resizeSettings.unit,t=(0,P.TL)();return{unit:e,handleChange:function(e){return t((0,V.Hr)(e))}}}(),c=o.handleChange;return(0,M.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,M.jsxs)("div",{className:"flex max-w-full items-end gap-2",children:[(0,M.jsxs)("div",{className:"flex flex-col min-w-0 gap-2",children:[(0,M.jsx)("div",{className:"capitalize pb-2","data-testid":"width-input-label",children:(0,M.jsx)(ee.vN,{keyName:"width"})}),(0,M.jsx)(se.I,{type:"number",acceptFloat:"pixels"!==l,value:0===r?"":r,placeholder:(0,j.k)((0,L.V)("enter-width")),min:0,onChange:n,"data-testid":"width-input"})]}),(0,M.jsxs)("div",{className:"flex flex-col min-w-0 gap-2",children:[(0,M.jsx)("div",{className:"flex items-center justify-between min-w-0 gap-2",children:(0,M.jsx)("div",{className:"capitalize","data-testid":"height-input-label",children:(0,M.jsx)(ee.vN,{keyName:"height"})})}),(0,M.jsx)(se.I,{type:"number",acceptFloat:"pixels"!==l,value:0===t?"":t,min:0,placeholder:(0,j.k)((0,L.V)("enter-height")),onChange:i,"data-testid":"height-input"})]})]}),(0,M.jsxs)("div",{className:"flex justify-between items-center",children:[(0,M.jsx)(Ie.X,{defaultIsChecked:s,handleChange:a,label:(0,j.k)((0,L.V)("lock-aspect-ratio")),testId:"lock-container"}),(0,M.jsx)(Ge.v,{unit:l,handleChange:c})]})]})},Me=r(14147),Be=function(e,t){return e.resizeSettings.dpi===t.resizeSettings.dpi},Ze=function(){var e=function(){var e=(0,P.CG)(pe.q,Be).resizeSettings.dpi,t=(0,P.TL)();return{dpi:e,handleChange:function(e){return t((0,V._3)(e))}}}(),t=e.dpi,r=e.handleChange,i={10:"billboard",72:"newspaper",96:"screen",150:"magazine",200:"inkjet",240:"inkjet",300:"inkjet",360:"inkjet",600:"laser",1200:"ultra-hires"};return(0,M.jsx)("div",{className:"mt-4",children:(0,M.jsx)(ae.P,{options:Me.s.map((function(e){return e})),label:(0,L.V)("dpi"),getOptionLabel:function(e){return"".concat(e," ").concat((0,L.V)("dpi")," (").concat((0,L.V)(i[e]),")")},getOptionValue:function(e){return e},handleClick:r,value:t,description:(0,L.V)("dpi-desc")})})},Ae=r(15340),Ue=r(30258),Re=function(e,t){return e.resizeSettings.byPercentage.percentage===t.resizeSettings.byPercentage.percentage},qe=function(){var e=function(){var e=(0,P.CG)(pe.q,Re).resizeSettings.byPercentage.percentage,t=(0,P.TL)();return{percentage:e,handleChange:function(e){return t((0,V._Y)(e))}}}(),t=e.handleChange,r=e.percentage;return(0,M.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,M.jsx)("div",{className:"capitalize font-semibold",children:(0,M.jsx)(ee.vN,{keyName:"size"})}),(0,M.jsxs)("div",{className:"flex items-center gap-4 dark:bg-darkSurface-200 border border-irGray-400 dark:border-darkSurface-100 px-4 pt-4 pb-5 rounded-xl",children:[(0,M.jsx)("div",{className:"flex-grow",children:(0,M.jsx)(Ae.i,{min:0,max:Ue.$,defaultValue:r,handleChange:t,step:1})}),(0,M.jsxs)("div",{className:"mt-1",children:[r,"%"]})]}),(0,M.jsx)("div",{className:"text-sm text-irGray-500",children:(0,M.jsx)(ee.vN,{keyName:"as-percentage-helper-text",variables:{percentage:r}})})]})},Xe=function(e,t){return e.resizeSettings.dimensionType===t.resizeSettings.dimensionType&&e.resizeSettings.unit===t.resizeSettings.unit},We=r(57552),He=r(3782),Je=r(29627),Ke=function(e,t){return JSON.stringify(e.resizeSettings.fillColor)===JSON.stringify(t.resizeSettings.fillColor)&&e.resizeSettings.isLocked===t.resizeSettings.isLocked&&e.exportSettings.saveAs===t.exportSettings.saveAs},$e=function(){var e=function(){var e=(0,P.CG)(pe.q,Ke),t=e.exportSettings.saveAs,r=e.resizeSettings,i=r.isLocked,n=r.fillColor,s=n.color,a=n.shouldFillColor,l=n.type,o=(0,P.TL)();return{shouldFillColor:a,color:s,handleColorChange:function(e){return o((0,V.vk)(e))},handleShouldFillColorChange:function(e){return o((0,V.dU)(e))},isLocked:i,type:l,handleFillColorTypeChange:function(e){return o((0,V.mH)(e))},saveAs:t}}(),t=e.color,r=e.handleColorChange,i=e.handleShouldFillColorChange,n=e.shouldFillColor,s=e.isLocked,a=e.handleFillColorTypeChange,l=e.type,o=e.saveAs;return s?null:(0,M.jsxs)("div",{className:"flex flex-col gap-4 my-4 py-4 px-6 rounded-lg border-irGray-400 border","data-testid":"fill-color-container",children:[(0,M.jsxs)("div",{className:"flex items-center",children:[(0,M.jsx)(Ie.X,{defaultIsChecked:n,handleChange:i,label:(0,j.k)((0,L.V)("background-fill")),testId:"fill-color"}),(0,M.jsx)("div",{className:"ml-auto",children:(0,M.jsx)(le.e,{text:(0,L.V)("fill-color-tooltip-text"),children:(0,M.jsx)(He.U,{})})})]}),n&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:"border-b border-b-irGray-400 w-full"}),(0,M.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,M.jsxs)("div",{className:"flex items-center","data-testid":"color-input-container",children:[(0,M.jsx)(Je.Y,{value:"color"===l,handleClick:function(){return a("color")},label:(0,L.V)("pick-a-color")}),"color"===l&&(0,M.jsx)("div",{className:"ml-auto flex items-center gap-4",children:(0,M.jsx)(We.T,{defaultColor:t,handleChange:r})})]}),".jpg"!==o&&(0,M.jsxs)("div",{className:"flex justify-between items-center",children:[(0,M.jsx)(Je.Y,{value:"transparent"===l,handleClick:function(){return a("transparent")},label:(0,j.k)((0,L.V)("transparent"))}),(0,M.jsx)(le.e,{text:(0,L.V)("transparent-tooltip-text"),children:(0,M.jsx)(He.U,{})})]})]})]})]})},Ye=r(73720),Qe=r(35096),et="bulk-resizer-input",tt=o.p["bulk-resize"],rt=function(){var e=(0,te.O)(),t=e.isOpen,r=e.open,i=e.onClose,n=D().handleFile,s=(0,c.e)(n,{allowMultiple:!0,supportedExtensions:tt},t),a=s.handleClick,l=s.accessError,o=s.setAccessError,d=s.isLoading;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Ye.N,{items:{from_device:(0,M.jsx)(u.X,{handleFile:n,options:{allowMultiple:!0,supportedExtensions:tt},htmlFileInputId:et}),dropbox:(0,M.jsx)(p.M,{handleFile:n,options:{allowMultiple:!0,supportedExtensions:tt},isOpen:t}),google_drive:(0,M.jsx)(x.o,{options:{allowMultiple:!0,onClick:a,supportedExtensions:tt},isLoading:d}),url_upload:(0,M.jsx)(g.n,{handleFile:n,options:{supportedExtensions:tt}})},isOpen:t,open:r,close:i,children:(0,M.jsx)(le.e,{text:(0,j.k)((0,L.V)("common:upload")),children:(0,M.jsx)(Qe.O,{className:"cursor-pointer flex items-center justify-center ".concat(t?"bg-gray-200 dark:bg-darkSurface-200":"bg-white dark:bg-darkSurface-300"," border dark:hover:bg-darkSurface-200 border-irGray-400 dark:border-darkSurface-100 rounded-lg p-3 hover:bg-irGray-200"),"data-testid":"upload-list-opener",children:(0,M.jsx)(W.d,{className:"fill-black dark:fill-white"})})})}),(0,M.jsx)(h.z,{isOpen:l,close:function(){return o(!1)},handleRetry:a})]})},it=r(85837),nt=r(28981),st=function(){var e=function(){var e=(0,te.O)(),t=e.isOpen,r=e.open,i=e.onClose,n=(0,A.I0)();return{isOpen:t,open:r,close:i,handleDeleteAll:function(){n((0,V.zC)()),i()}}}(),t=e.isOpen,r=e.open,i=e.close,n=e.handleDeleteAll;return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(le.e,{text:(0,j.k)((0,L.V)("delete-all")),children:(0,M.jsxs)(Qe.O,{className:"group cursor-pointer py-2 px-3 border border-irGray-400 dark:border-darkSurface-100\n                    rounded-lg grid items-center hover:bg-irRed-400 dark:hover:bg-darkSurface-200 ".concat(t?"bg-gray-200 dark:bg-darkSurface-200":"dark:bg-darkSurface-300"),onClick:r,"data-testid":"delete-all-modal-opener",children:[(0,M.jsx)("div",{className:"group-hover:hidden",children:(0,M.jsx)(H.p,{fill:"black"})}),(0,M.jsx)("div",{className:"hidden group-hover:block",children:(0,M.jsx)(H.p,{fill:"white"})})]})}),(0,M.jsx)(nt.p,{handleDelete:n,isOpen:t,close:i})]})},at=function(){var e=Se(),t=e.validDimensions,r=e.unImportedImages,i=e.isProcessing,n=e.handleProceed,s=e.isProceedButtonActive,a=e.importedImages;return(0,M.jsx)(le.e,{text:t?r.length>0?(0,L.V)("uploading-wait-label"):(0,L.V)("proceed-to-download-page"):(0,L.V)("dimensions-error"),containerClassNames:"w-full",inactive:r.length+a.length===0,children:(0,M.jsxs)("div",{className:"".concat(s?"cursor-pointer bg-irBlue-200 dark:bg-darkPrimary100 hover:bg-irBlue-400 dark:hover:bg-darkPrimary-200":"cursor-not-allowed bg-irGray-400 dark:bg-darkSurface-600 hover:bg-irGray-400 dark:hover:bg-darkSurface-500"," text-white flex justify-center items-center gap-2 capitalize font-semibold w-full py-4 rounded-xl text-2xl px-1"),onClick:(0,U.U)(n),"data-testid":"export-button",children:[(0,M.jsx)("div",{className:"select-none",children:(0,L.V)("export")}),i?(0,M.jsx)(ne.a,{className:"stroke-white",width:24,height:24}):(0,M.jsx)(ie.m,{className:"fill-white",width:24,height:24})]})})},lt=r(23603),ot=function(){var e=function(){var e=(0,P.CG)(pe.q,Xe).resizeSettings,t=e.dimensionType,r=e.unit,i=(0,te.O)(!0);return{dimensionType:t,unit:r,isExportSettingsOpen:i.isOpen,toggleExportSettings:i.toggle}}(),t=e.dimensionType,r=e.unit,i=e.isExportSettingsOpen,n=e.toggleExportSettings;return(0,M.jsxs)("div",{className:"h-full flex flex-col",children:[(0,M.jsxs)("div",{className:"hidden lg:block w-full bg-white dark:bg-darkSurface-100",children:[" ",(0,M.jsxs)("div",{className:"border-b border-b-irGray-200 dark:border-b-darkSurface-600",children:[" ",(0,M.jsxs)("div",{className:"p-4 gap-4 flex items-center justify-between",children:[(0,M.jsx)(rt,{}),(0,M.jsxs)("div",{className:"flex items-center gap-4",children:[(0,M.jsx)(it.P,{}),(0,M.jsx)(st,{})]})]})]})]}),(0,M.jsx)("div",{className:"hidden lg:block capitalize text-2xl font-semibold px-6 pt-4",children:(0,M.jsx)(ee.vN,{keyName:"resize-settings"})}),(0,M.jsxs)("div",{className:"h-full max-h-full scroll",children:[(0,M.jsxs)("div",{className:"flex flex-col gap-1 px-4 text-black dark:text-white",children:[(0,M.jsx)(Le,{}),"pixels"===t?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(De,{}),(0,M.jsx)($e,{}),"pixels"!==r&&(0,M.jsx)(Ze,{})]}):(0,M.jsx)(qe,{})]}),(0,M.jsxs)("div",{className:"hidden lg:block py-8",children:[(0,M.jsxs)("div",{className:"cursor-pointer flex items-center p-4",onClick:n,children:[(0,M.jsx)("div",{className:"font-semibold text-2xl",children:(0,M.jsx)(ee.vN,{keyName:"export-settings"})}),(0,M.jsx)("div",{className:"ml-auto",children:i?(0,M.jsx)("div",{className:"rotate-180",children:(0,M.jsx)(lt.e,{width:15,height:15})}):(0,M.jsx)("div",{children:(0,M.jsx)(lt.e,{width:15,height:15})})})]}),i&&(0,M.jsx)(Oe,{isOpen:i})]})]}),(0,M.jsx)("div",{className:"hidden lg:block mt-auto w-full",children:(0,M.jsx)("div",{className:"hidden lg:block bg-white dark:bg-darkSurface-100 border-t border-t-irGray-200 dark:border-t-darkSurface-600 px-1 py-2",children:(0,M.jsx)(at,{})})})]})},ct=function(){var e=function(){var e=(0,ge.useState)(!1),t=e[0],r=e[1];return{isOpen:t,open:function(){return r(!0)},close:function(){return r(!1)}}}(),t=e.isOpen,r=e.open,i=e.close;return(0,M.jsxs)("div",{className:"flex items-center justify-center w-full gap-2 py-4 border-r sm:gap-4 border-r-irBlue-400",onClick:r,children:[(0,M.jsx)(Q.e,{className:"stroke-white"}),(0,M.jsx)("div",{className:"text-sm font-semibold text-white capitalize sm:text-xl whitespace-nowrap",children:(0,M.jsx)(ee.vN,{keyName:"resize-settings"})}),(0,M.jsx)(l.k,{isOpen:t,onClose:i,titleBar:(0,M.jsxs)("div",{className:"flex items-center justify-between w-full px-4 pt-2 text-black dark:text-white",children:[(0,M.jsx)("div",{className:"text-xl font-semibold capitalize whitespace-nowrap",children:(0,M.jsx)(ee.vN,{keyName:"resize-settings"})}),(0,M.jsx)("div",{onClick:i,className:"",children:(0,M.jsx)("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-irGray-300 dark:bg-darkSurface-200",id:$.T,children:(0,M.jsx)(Y.T,{})})})]}),initialHeight:"60vh",bottomSection:(0,M.jsx)(K._,{children:(0,M.jsx)(Pe,{})}),children:(0,M.jsx)(ot,{})})]})},dt=function(e){var t=e.openPopup;return(0,M.jsxs)("div",{className:"bg-irBlue-200 dark:bg-darkPrimary-100 rounded-xl flex items-center w-full",children:[(0,M.jsx)("div",{className:"flex items-center justify-center py-4 px-4 border-r border-r-irBlue-400",onClick:(0,U.U)((function(){return t("add")})),children:(0,M.jsx)(W.d,{className:"fill-white"})}),(0,M.jsx)("div",{className:"flex items-center justify-center py-4 px-4 border-r border-r-irBlue-400",onClick:(0,U.U)((function(){return t("delete")})),children:(0,M.jsx)(H.p,{className:"fill-white"})}),(0,M.jsx)(ct,{}),(0,M.jsx)("div",{className:"px-4",onClick:(0,U.U)((function(){return t("sort")})),children:(0,M.jsx)(J.f,{className:"fill-white"})})]})},ut=function(){var e=function(){var e=(0,ge.useState)(null),t=e[0],r=e[1],i=function(){return r(null)};return{isPopupOpen:!!t,openPopup:function(e){t!==e?r(e):i()},closePopup:i,activeType:t}}(),t=e.isPopupOpen,r=e.openPopup,i=e.closePopup,n=e.activeType;return(0,M.jsx)("div",{className:"py-4 px-4 dark:border-t dark:border-t-darkSurface-600",children:(0,M.jsx)(a.G,{isOpen:t,close:i,content:(0,M.jsx)(X,{activeType:n,closePopup:i}),children:(0,M.jsx)(dt,{openPopup:r})})})},pt=r(65392),ht=r(91248),xt=o.p["bulk-resize"],gt=function(e,t){return e.images.length===t.images.length},ft=o.p["bulk-resize"],mt=function(){var e=function(){var e=(0,P.CG)(pe.q,gt).images,t=(0,te.O)(),r=t.isOpen,i=t.toggle,n=t.onClose,s=D().handleFile;return{images:e,isOpen:r,toggle:i,close:n,handleFile:s,isDragging:(0,ht.T)(document.body,s,{allowMultiple:!0,supportedExtensions:xt}).isDragging,handleDeviceInputClick:(0,pt.F)(s,{allowMultiple:!0,supportedExtensions:xt},et).handleClick}}(),t=e.images,r=e.isOpen,i=e.toggle,n=e.close,s=e.handleFile,l=e.handleDeviceInputClick,o=e.isDragging,f=(0,c.e)(s,{allowMultiple:!0,supportedExtensions:ft},r),m=f.handleClick,v=f.accessError,b=f.setAccessError,k=f.isLoading;return t.length>0?null:(0,M.jsxs)("div",{className:"h-full p-4 w-full",children:[(0,M.jsx)(h.z,{isOpen:v,close:function(){return b(!1)},handleRetry:m}),(0,M.jsx)("div",{className:"w-full flex flex-col items-center justify-center h-full bg-irGray-200 dark:bg-darkSurface-200 border border-irGray-400 dark:border-darkSurface-400 border-dashed py-16 lg:py-48",children:o?(0,M.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,M.jsx)(W.d,{width:30,height:30,className:"fill-black dark:fill-darkSurface-600"}),(0,M.jsx)("div",{className:"first-letter:capitalize text-irGray-600 text-xl text-center",children:(0,M.jsx)(ee.vN,{keyName:"drop-images"})})]}):(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(a.G,{isOpen:r,close:n,content:(0,M.jsx)("div",{className:"absolute flex flex-col -translate-y-4 top-full left-0 right-0 bg-white dark:bg-darkSurface-200 border border-irGray-400 dark:border-darkSurface-100 rounded-xl text-black dark:text-white overflow-hidden",children:(0,M.jsx)(d.a,{callback:function(){},items:{from_device:(0,M.jsx)(u.X,{handleFile:s,options:{allowMultiple:!0,supportedExtensions:ft},htmlFileInputId:"bulk-resizer-input"}),dropbox:(0,M.jsx)(p.M,{handleFile:s,options:{allowMultiple:!0,supportedExtensions:ft},isOpen:r}),google_drive:(0,M.jsx)(x.o,{options:{allowMultiple:!0,onClick:m,supportedExtensions:ft},isLoading:k}),url_upload:(0,M.jsx)(g.n,{handleFile:s,options:{supportedExtensions:ft}})}})}),children:(0,M.jsxs)("div",{className:"cursor-pointer flex rounded-xl overflow-hidden bg-irBlue-200 dark:bg-darkPrimary-100 mb-8",children:[(0,M.jsxs)("div",{className:"flex items-center justify-center gap-4 px-6 py-4 hover:bg-irBlue-400 dark:hover:bg-darkPrimary-200",onClick:l,children:[(0,M.jsx)(W.d,{width:14,height:14,fill:"white"}),(0,M.jsx)("div",{className:"capitalize font-semibold text-white text-lg",children:(0,M.jsx)(ee.vN,{keyName:"common:upload-images"})})]}),(0,M.jsx)("div",{className:"flex items-center px-4 border-l border-l-white ".concat(r&&"bg-irBlue-400 dark:bg-darkPrimary-200"," hover:bg-irBlue-400 dark:hover:bg-darkPrimary-200"),onClick:i,children:r?(0,M.jsx)("div",{className:"rotate-180",children:(0,M.jsx)(lt.e,{width:14,height:14})}):(0,M.jsx)(lt.e,{width:14,height:14,stroke:"white"})})]})}),(0,M.jsx)("div",{className:" first-letter:capitalize text-irGray-600 dark:text-darkSurface-600 text-xl text-center mx-4",children:(0,M.jsx)(ee.vN,{keyName:"drag-or-click"})})]})})]})},vt=r(62401),bt=r(13680),kt=r(22796),jt=r(36969),wt=r(19523),yt=r(63601),Ct=r(30201),Nt=r(93170),St=r(99158),zt=function(e){var t,i,n,s,a,l=e.image,o=e.index,c=function(e){var t=(0,P.CG)((function(e){return e.bulkResize.resizeSettings.unit})),i=(0,P.CG)((function(e){return e.bulkResize.resizeSettings.dimensionType})),n=(0,P.CG)((function(e){return e.bulkResize.resizeSettings.byPercentage})),s=(0,P.CG)((function(e){return e.bulkResize.resizeSettings.dpi})),a=(0,P.TL)(),l=(0,yt.F)(e,i,t,n.percentage,xe.m,"percentage"===i||"pixels"===t?void 0:+s),o=(0,be.m)(e.preview.width,t,"pixels"===t?void 0:+s)<=xe.m,c=(0,be.m)(e.preview.height,t,"pixels"===t?void 0:+s)<=xe.m,d=o&&c?"":"".concat((0,L.V)("maximum-allowed-value-for",{width_or_height:o||c?o?c?"":(0,L.V)("height"):(0,L.V)("width"):"".concat((0,L.V)("width")," / ").concat((0,L.V)("height")),size:(0,Ct.D)((0,vt.c)(xe.m,t,"pixels"===t?void 0:+s),!1),unit:(0,L.V)(t)})," ").concat("pixels"!==t?(0,L.V)("at-dpi",{dpi:s}):""),u=(0,ge.useState)(""),p=u[0],h=u[1],x=function(){var t=(0,f.Z)(v().mark((function t(){var i,n,s,l,o,c,d,u,p,x,f,m,b,k;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.src,".heic"!==e.format&&".heif"!==e.format&&"heic"!==e.format&&"heif"!==e.format){t.next=24;break}return t.prev=2,t.next=5,fetch(i);case 5:if(n=t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,n.blob();case 10:if(s=t.sent){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,r.e(4838).then(r.t.bind(r,1616,23));case 15:return l=t.sent.default,t.next=18,l({blob:s});case 18:o=t.sent,i=URL.createObjectURL(Array.isArray(o)?o[0]:o),t.next=24;break;case 22:t.prev=22,t.t0=t.catch(2);case 24:return t.next=26,(0,wt.p)(i);case 26:if(c=t.sent,d=c.error,u=c.width,p=c.height,!d){t.next=50;break}return t.next=33,(0,Nt.P)({type:"url",settings:{url:e.src}},e.src,0);case 33:if(x=t.sent,f=x.src,!x.error&&f){t.next=39;break}return g(),t.abrupt("return");case 39:return h(f),t.next=42,(0,wt.p)(f);case 42:if(m=t.sent,b=m.width,k=m.height,0!==b&&0!==k){t.next=48;break}return g(),t.abrupt("return");case 48:return a((0,V.$v)({imageId:e.id,width:b,height:k})),t.abrupt("return");case 50:if(0!==u&&0!==p){t.next=53;break}return g(),t.abrupt("return");case 53:h(i),a((0,V.$v)({imageId:e.id,width:u,height:p}));case 55:case"end":return t.stop()}}),t,null,[[2,22]])})));return function(){return t.apply(this,arguments)}}();function g(){console.log("".concat(e.title," is corrupted")),a((0,V.$k)({id:e.id,isCorrupted:!0}))}return(0,ge.useEffect)((function(){x()}),[e.src]),{handleDelete:function(){a((0,V.ao)(e.id))},unit:t,dimensionsValid:l,dpi:s,widthValid:o,heightValid:c,dimensionsErrorMessage:d,src:p}}(l),d=c.handleDelete,u=c.unit,p=c.dimensionsValid,h=c.dpi,x=c.widthValid,g=c.heightValid,m=c.dimensionsErrorMessage,b=c.src,k=(0,St.i)().width;return(0,M.jsxs)("div",{className:"group flex flex-col justify-between bg-irGray-200 dark:bg-darkSurface-300",children:[(0,M.jsxs)("div",{className:"relative flex flex-col justify-between p-4 h-full",children:[(0,M.jsx)("img",{src:b,className:"mx-auto max-h-[250px]","data-testid":"image-".concat(o,"-preview-image")}),l.isCorrupted&&(0,M.jsx)("div",{className:"text-md text-center text-red-500 font-semibold",children:(0,L.V)("corrupt-image-helper-text")}),(0,M.jsxs)("div",{className:"flex xl:hidden group-hover:flex absolute top-6 right-6 items-center gap-3",children:[(0,M.jsx)("div",{className:"group",children:(0,M.jsx)(le.e,{text:"".concat(l.original.size),position:{y:"down"},children:(0,M.jsx)("div",{className:"cursor-pointer flex items-center justify-center rounded-full bg-dark-gray dark:bg-black bg-opacity-50 h-6 w-6",children:(0,M.jsx)(kt.s,{})})})}),(0,M.jsx)(le.e,{text:(0,j.k)((0,L.V)("remove-image")),position:{y:"down"},children:(0,M.jsx)("div",{className:"cursor-pointer flex items-center justify-center rounded-full bg-dark-gray dark:bg-darkSurface-100 bg-opacity-50 h-6 w-6","data-testid":"image-".concat(o,"-delete-image"),onClick:d,children:(0,M.jsx)(Y.T,{className:"stroke-white",height:12,width:12,strokeWidth:3})})})]})]}),(0,M.jsxs)("div",{className:"flex flex-col py-4 px-2 gap-4 bg-white dark:bg-darkSurface-200 dark:text-white border-[0.25px] border-[#e2e8f0] dark:border-darkSurface-400",children:[(0,M.jsx)("div",{className:"w-full max-w-full relative",children:(0,M.jsx)("div",{className:"text-lg font-semibold overflow-ellipsis whitespace-nowrap",children:(0,M.jsx)(le.e,{text:l.title,children:(0,M.jsx)("span",{"data-testid":"image-".concat(o,"-title"),children:(0,we.u)(l.title,k<1250?10:15)})})})}),"imported"===l.state&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,M.jsx)(le.e,{text:(0,L.V)("original-size-in-unit",{unit:(0,L.V)(u)}),children:(0,M.jsx)("div",{className:"rounded-lg py-1 px-2 bg-[#abb8c3] dark:bg-darkSurface-300","data-testid":"image-".concat(o,"-original-dimensions"),children:"".concat((0,Ct.D)((0,vt.c)(l.original.width,u,+h))," X ").concat((0,Ct.D)((0,vt.c)(l.original.height,u,+h)))})}),(0,M.jsx)(ie.m,{}),(0,M.jsx)(le.e,{text:p?(0,j.k)((0,L.V)("output-size-in-unit",{unit:(0,L.V)(u)})):"".concat((0,L.V)("maximum-dimension-is")," ").concat((0,Ct.D)((0,vt.c)(xe.m,u,+h),!1)," ").concat((0,L.V)(u)," ").concat("pixels"!==u?(0,L.V)("at-dpi",{dpi:h}):""),"data-testid":"image-".concat(o,"-original-dimensions"),children:(0,M.jsx)("div",{className:"rounded-lg text-white py-1 px-2 ".concat(p?"bg-[#7bdcb5] dark:bg-darkPrimary-300 dark:text-black":"bg-[#DB1436]"),"data-testid":"image-".concat(o,"-preview-dimensions"),children:"".concat((0,Ct.D)(Number(l.preview.width))," X ").concat((0,Ct.D)(Number(l.preview.height)))})})]}),(!x||!g)&&(0,M.jsx)("div",{className:"text-validation-error",children:m})]}),"added"===l.state&&(0,M.jsx)("div",{className:"flex items-center justify-center bg-white dark:bg-darkSurface-200 w-full rounded-xl text-center overflow-hidden border border-irGray-200 dark:border-darkSurface-400",children:(0,M.jsx)("div",{className:"py-2",children:(0,M.jsx)(bt.K,{options:{color:"var(--blue)"}})})}),"importing"===l.state&&(0,M.jsx)("div",{className:"flex items-center justify-center bg-white dark:bg-darkSurface-200 w-full rounded-xl text-center overflow-hidden border border-irGray-200 dark:border-darkSurface-400",children:"continuous"===(null===(t=l.importing)||void 0===t?void 0:t.progress)?(0,M.jsx)("div",{className:"py-2","data-testid":"text-".concat(o,"-importing"),children:(0,M.jsx)(bt.K,{options:{color:"var(--blue)"}})}):(0,M.jsx)(jt.u,{text:"".concat(null!==(i=null===(n=l.importing)||void 0===n?void 0:n.progress)&&void 0!==i?i:0,"% of ").concat(l.original.size),percentage:null!==(s=null===(a=l.importing)||void 0===a?void 0:a.progress)&&void 0!==s?s:"continuous",testId:"text-".concat(o,"-importing")})})]})]})},Ot=function(){var e={images:(0,P.CG)((function(e){return e.bulkResize.images}))}.images;return(0,M.jsxs)("div",{className:"px-4 bg-white dark:bg-darkSurface-100 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 py-4 w-full ".concat(0===e.length&&"h-full"),children:[e.length>0&&e.map((function(e,t){return(0,M.jsx)(zt,{image:e,index:t},e.id)})),0===e.length&&(0,M.jsx)("div",{className:"col-span-4","data-testid":"no-image-container",children:(0,M.jsx)(mt,{})}),e.length>0&&(0,M.jsx)("div",{className:"py-8"})]})},Vt=r(39686),Ft=r(98976),Pt=r(6248),Tt=r(31458),Lt=r(16560),Et=r(34038),Gt=function e(){var t=(0,ue.useRouter)().locale,r=(0,P.CG)((function(e){return e.bulkResize.fromDownloadPage})),i=function(){var e=(0,P.TL)(),t=function(){var e=(0,f.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:return e.abrupt("return",e.sent.forEach(n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=(0,f.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=(0,f.Z)(v().mark((function e(t){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:if((r=e.sent)&&"completed"===r.status&&r.result){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent.filter(Pt.n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,f.Z)(v().mark((function e(t){var r,i,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Tt.U)("/api/tasks/".concat(t));case 3:return r=e.sent,i=r.error,n=r.result,e.abrupt("return",i?null:n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n=function(t){if(t.result){var r=t.result,i=r.url,n=r.size,s=(0,Et.J)(t),a={id:(0,C.w)(),src:(0,T.Z)((null===i||void 0===i?void 0:i.toString())||""),original:{width:0,height:0,size:(0,y.t)(n||0)},preview:{width:0,height:0,size:(0,y.t)(n||0)},title:s,format:(0,Lt.v)((null===i||void 0===i?void 0:i.toString())||""),createdAt:new Date(t.createdAt),state:"imported",importTask:t,importing:{progress:100}};e((0,V.mN)(a))}};return{handleUrlTaskIds:t}}(),n=i.handleUrlTaskIds;(0,Vt.n)((function(){var e,i,s,a=(0,Ft.A)();(a.length>0&&n(a),r||0!==a.length)||(window.location.href="en"===t?"/bulk-resize":"/".concat(t,"/").concat(null!==(e=null===(i=je.Z["/bulk-resize"])||void 0===i?void 0:i[null!==(s=t)&&void 0!==s?s:"en"])&&void 0!==e?e:"bulk-resize"));(0,me.S)("event","Editor Loaded",{event_category:"Bulk Resizer",event_label:"Editor Page"})}),e.name)},_t=function(){return Gt(),(0,M.jsx)(n.H,{navbar:(0,M.jsx)(s.EditorNavbar,{actionButton:null,url:"/bulk-resize/editor"}),action:{desktop:null},bottomMenu:(0,M.jsx)(ut,{}),controlBar:null,preview:(0,M.jsx)(Ot,{}),leftBar:(0,M.jsx)(ot,{})})},It=r(9008),Dt=r.n(It),Mt=r(95155),Bt=r(87414),Zt=r(51731),At=function(){return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Dt(),{children:(0,M.jsx)("title",{children:(0,L.V)("page-title")})}),(0,M.jsx)(Zt.m,{children:(0,M.jsx)(_t,{})})]})},Ut=["bulk-resize-editor","single-resizer-editor","uploader"].concat((0,i.Z)(Mt.y)),Rt=!0,qt=function(){return(0,M.jsx)(Bt.i,{files:Ut,children:(0,M.jsx)(At,{})})}},87107:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bulk-resize/editor",function(){return r(86960)}])}},function(e){e.O(0,[1664,7350,9367,3979,713,8212,152,2967,1731,4691,769,8765,4253,416,5012,7293,9774,2888,179],(function(){return t=87107,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=editor-3d9c657822653658.js.map